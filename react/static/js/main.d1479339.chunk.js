(this["webpackJsonpidentikit-react-cli-edition"]=this["webpackJsonpidentikit-react-cli-edition"]||[]).push([[0],{41:function(t,e,a){},47:function(t,e,a){},54:function(t,e,a){},73:function(t,e,a){},74:function(t,e,a){},75:function(t,e,a){},76:function(t,e,a){},77:function(t,e,a){},78:function(t,e,a){},79:function(t,e,a){},80:function(t,e,a){},81:function(t,e,a){},82:function(t,e,a){},83:function(t,e,a){},85:function(t,e,a){"use strict";a.r(e);a(38),a(84),a(39),a(40),a(41);var r=a(1),n=a.n(r),c=a(34),s=a.n(c),i=a(4),o=a(3),u=a.n(o),l=a(2),d=a(5),j=a(8),p=a(6),b={token:null,firstName:"",lastName:"",cart:{total:0,quantity:0},artistId:null,isArtist:!1,favorites:[],likedProducts:[],setAuthInfo:function(){},setUserRole:function(){},getUserFavorites:function(){},getUserLikedProducts:function(){},getUserId:function(){return""},updateUserFavoriteArtistList:function(){},updateUserLikedProductsList:function(){},updateUserCart:function(){},promoteToTempArtist:function(){},clearAppState:function(){}},O=n.a.createContext(b),f=O.Provider,m=(O.Consumer,a(47),a(0)),h=function(t){var e=Object(r.useState)("dropdown-content"),a=Object(i.a)(e,2),n=a[0],c=a[1],s=function(){c("dropdown-content"!==n?"dropdown-content":n+=" show")};return Object(m.jsxs)("li",{className:"nav-item-dropdown flex-fill dropdown ",children:[Object(m.jsx)("button",{onClick:s,className:"nav-link dropdown-toggle text-dark",id:"navbarDropdown",children:"Menu"}),Object(m.jsxs)("div",{id:"myDropdown",className:n,children:[Object(m.jsx)(p.c,{onClick:s,className:"btn btn-link nav-link text-light",to:"/you/profile",children:"Your profile"}),t.isArtist?Object(m.jsx)(p.c,{onClick:s,className:"btn btn-link nav-link text-light",to:"/you/products",children:"Manage products"}):null,Object(m.jsx)(p.c,{onClick:s,className:"btn btn-link nav-link text-light",to:"/you/likes",children:"Your liked products"}),Object(m.jsx)(p.c,{onClick:s,className:"btn btn-link nav-link text-light",to:"/you/favorites",children:"Favorite list"}),Object(m.jsx)("button",{onClick:function(){t.logOut(),s()},className:"btn btn-link nav-link text-light",children:"Sign out"})]})]})},x=(a(54),function(){var t=Object(r.useContext)(O),e=Object(j.g)();return Object(m.jsx)("header",{className:"navbar navbar-expand-sm navbar-toggleable-sm navbar-dark box-shadow",children:Object(m.jsx)("nav",{className:"navbar-collapse collapse d-sm-inline-flex justify-content-between",role:"navigation",children:Object(m.jsxs)("ul",{className:"navbar-nav flex-grow-1 d-flex",children:[Object(m.jsx)("li",{className:"nav-item flex-fill",children:Object(m.jsx)(p.c,{className:"nav-link text-light",to:"/artists",children:"Discover"})}),Object(m.jsx)("li",{className:"nav-item flex-fill",children:Object(m.jsx)(p.c,{className:"navbar-brand text-light",to:"/",children:"Identikit"})}),Object(m.jsxs)("li",{className:"nav-item flex-fill",children:[null===t.token?Object(m.jsx)(p.c,{className:"nav-link text-light",to:"/account/login?#",children:"Become an artist"}):null,null!==t.token&&!1===t.isArtist?Object(m.jsx)(p.c,{className:"nav-link text-light",to:"/artists/create",children:"Become an artist"}):null,null!==t.token&&!0===t.isArtist?Object(m.jsx)(p.c,{className:"nav-link text-light",to:"/products/upload",children:"Upload your creation "}):null]}),null!==t.token?Object(m.jsx)("li",{className:"nav-item cart-icon-header",children:Object(m.jsxs)(p.c,{className:"btn btn-link nav-link text-light",to:"/cart",children:[Object(m.jsx)("img",{className:"cart-image",src:"https://pngimg.com/uploads/shopping_cart/shopping_cart_PNG38.png",alt:""}),Object(m.jsxs)("div",{className:"cart-total-quantity",children:[t.cart.total,"/",t.cart.quantity]})]})}):null,null!==t.token?Object(m.jsx)(h,{isArtist:t.isArtist,logOut:function(){t.clearAppState(t),e.push("/")}}):null,null===t.token?Object(m.jsx)("li",{className:"nav-item flex-fill",children:Object(m.jsx)(p.c,{className:"nav-link text-light",to:"/account/login",children:"Sign in"})}):null]})})})}),v=function(){return Object(m.jsx)("footer",{className:"border-top footer text-muted",children:Object(m.jsxs)("div",{className:"container",children:["\xa9 2021 - Identikit - ",Object(m.jsx)("a",{href:"/Home/Privacy",children:"Privacy"})]})})},g=function(){var t=Object(r.useContext)(O);return Object(m.jsx)("div",{className:"welcome-message",children:Object(m.jsxs)("h3",{children:["WELCOME TO IDENTIKIT",t.token?", "+t.firstName+" "+t.lastName:null,", THE BEST MUSIC DISTRIBUTION PLATFORM EVER!"]})})},k=a(7),y=a(9),N=a(10),w=a(20),C=a.n(w),S="https://iivano-identikit.azurewebsites.net/api/v1",I="https://iivano-identikit.azurewebsites.net/",F=function(){function t(){Object(y.a)(this,t)}return Object(N.a)(t,null,[{key:"getAxiosConfiguration",value:function(t){if(t)return{headers:{Authorization:"Bearer "+t}}}},{key:"getAll",value:function(){var e=Object(d.a)(u.a.mark((function e(a,r,n){var c,s,i,o,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n&&(a+=n),e.next=4,this.axios.get(a,t.getAxiosConfiguration(r));case 4:return c=e.sent,e.abrupt("return",{ok:c.status<=299,statusCode:c.status,data:c.data});case 8:return e.prev=8,e.t0=e.catch(0),l=e.t0,e.abrupt("return",{ok:!1,statusCode:null!==(s=null===(i=l.response)||void 0===i?void 0:i.status)&&void 0!==s?s:500,messages:(null===(o=l.response)||void 0===o?void 0:o.data).messages});case 12:case 13:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(t,a,r){return e.apply(this,arguments)}}()},{key:"get",value:function(){var e=Object(d.a)(u.a.mark((function e(a,r,n){var c,s,i,o,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n&&(a+=n),console.log(a),e.prev=2,e.next=5,this.axios.get(a,t.getAxiosConfiguration(r));case 5:return c=e.sent,e.abrupt("return",{ok:c.status<=299,statusCode:c.status,data:c.data});case 9:return e.prev=9,e.t0=e.catch(2),l=e.t0,e.abrupt("return",{ok:!1,statusCode:null!==(s=null===(i=l.response)||void 0===i?void 0:i.status)&&void 0!==s?s:500,messages:(null===(o=l.response)||void 0===o?void 0:o.data).messages});case 13:case 14:case"end":return e.stop()}}),e,this,[[2,9]])})));return function(t,a,r){return e.apply(this,arguments)}}()},{key:"post",value:function(){var e=Object(d.a)(u.a.mark((function e(a,r,n,c){var s,i,o,l,d,j;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=JSON.stringify(r),e.prev=1,e.next=4,this.axios.post(a,s,t.getAxiosConfiguration(n));case 4:return i=e.sent,e.abrupt("return",{ok:i.status<=299,statusCode:i.status,data:i.data});case 8:return e.prev=8,e.t0=e.catch(1),j=e.t0,console.error(j),e.abrupt("return",{ok:!1,statusCode:null!==(o=null===(l=j.response)||void 0===l?void 0:l.status)&&void 0!==o?o:500,messages:(null===(d=j.response)||void 0===d?void 0:d.data).messages});case 13:case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(t,a,r,n){return e.apply(this,arguments)}}()},{key:"postTracks",value:function(){var e=Object(d.a)(u.a.mark((function e(a,r,n,c){var s,i,o,l,d,j;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(s=new FormData).append("title",r.title),s.append("trackNumber",r.trackNumber),s.append("track",r.trackFile),e.prev=4,e.next=7,this.axios.post(a,s,t.getAxiosConfiguration(n));case 7:return i=e.sent,e.abrupt("return",{ok:i.status<=299,statusCode:i.status,data:i.data});case 11:return e.prev=11,e.t0=e.catch(4),j=e.t0,e.abrupt("return",{ok:!1,statusCode:null!==(o=null===(l=j.response)||void 0===l?void 0:l.status)&&void 0!==o?o:500,messages:(null===(d=j.response)||void 0===d?void 0:d.data).messages});case 15:case 16:case"end":return e.stop()}}),e,this,[[4,11]])})));return function(t,a,r,n){return e.apply(this,arguments)}}()},{key:"postProduct",value:function(){var e=Object(d.a)(u.a.mark((function e(a,r,n,c){var s,i,o,l,d,j,p;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for((s=new FormData).append("title",r.title),s.append("image",null!==r.image?r.image:""),s.append("description",r.description),s.append("price",r.price.toString()),s.append("secondPrice",null!==r.secondPrice?r.secondPrice.toString():""),i=0;i<r.tracks.length;i++)s.append("tracks["+i+"].id",r.tracks[i].id);return s.append("productTypeId",r.productTypeId),s.append("musicGenreId",r.musicGenreId),s.append("productFormatId",r.productFormatId),e.prev=10,e.next=13,this.axios.post(a,s,t.getAxiosConfiguration(n));case 13:return o=e.sent,e.abrupt("return",{ok:o.status<=299,statusCode:o.status,data:o.data});case 17:return e.prev=17,e.t0=e.catch(10),p=e.t0,e.abrupt("return",{ok:!1,statusCode:null!==(l=null===(d=p.response)||void 0===d?void 0:d.status)&&void 0!==l?l:500,messages:(null===(j=p.response)||void 0===j?void 0:j.data).messages});case 21:case 22:case"end":return e.stop()}}),e,this,[[10,17]])})));return function(t,a,r,n){return e.apply(this,arguments)}}()},{key:"put",value:function(){var e=Object(d.a)(u.a.mark((function e(a,r,n,c){var s,i,o,l,d,j;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=JSON.stringify(r),e.prev=1,e.next=4,this.axios.put(a,s,t.getAxiosConfiguration(n));case 4:return i=e.sent,e.abrupt("return",{ok:i.status<=299,statusCode:i.status,data:i.data});case 8:return e.prev=8,e.t0=e.catch(1),j=e.t0,console.error(j),e.abrupt("return",{ok:!1,statusCode:null!==(o=null===(l=j.response)||void 0===l?void 0:l.status)&&void 0!==o?o:500,messages:(null===(d=j.response)||void 0===d?void 0:d.data).messages});case 13:case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(t,a,r,n){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(d.a)(u.a.mark((function e(a,r,n){var c,s,i,o,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n&&(a+=n),e.prev=1,e.next=4,this.axios.delete(a,t.getAxiosConfiguration(r));case 4:return c=e.sent,e.abrupt("return",{ok:c.status<=299,statusCode:c.status,data:c.data});case 8:return e.prev=8,e.t0=e.catch(1),l=e.t0,e.abrupt("return",{ok:!1,statusCode:null!==(s=null===(i=l.response)||void 0===i?void 0:i.status)&&void 0!==s?s:500,messages:(null===(o=l.response)||void 0===o?void 0:o.data).messages});case 12:case 13:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(t,a,r){return e.apply(this,arguments)}}()}]),t}();F.axios=C.a.create({baseURL:S,headers:{"Content-Type":"application/json"}});a(73);var P,A=function(t){var e=Object(r.useContext)(O),a=Object(r.useState)({following:!1}),n=Object(i.a)(a,2),c=n[0],s=n[1],o=Object(r.useState)("follow-button"),l=Object(i.a)(o,2),j=l[0],p=l[1],b=function(){var a=Object(d.a)(u.a.mark((function a(){var r,n,i,o,l;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(c.following){a.next=8;break}return r={artistId:t.artistId},a.next=4,F.post("/favoritelists",r,e.token);case 4:(n=a.sent).ok&&n.data&&(p(j+=" following"),s({id:n.data.id,following:!0}),e.updateUserFavoriteArtistList(e),i=n.data.artistFollowersCount,t.updateArtistsFollowers(t.index,i),console.log("You subscribed to this artist")),a.next=13;break;case 8:return a.next=10,F.delete("/favoritelists/"+c.id,e.token);case 10:o=a.sent,console.log(o),o.ok&&o.data&&(setTimeout((function(){return p("follow-button")}),200),s({following:!1}),e.updateUserFavoriteArtistList(e),l=o.data.artistFollowersCount,void 0!==t.removeArtistFromFavoriteList?t.removeArtistFromFavoriteList(t.index):void 0!==t.updateArtistsFollowers&&t.updateArtistsFollowers(t.index,l),console.log("You unsubscribed from this artist"));case 13:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return Object(r.useEffect)((function(){(function(){var a=Object(d.a)(u.a.mark((function a(){var r,n;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:r=e.favorites,(n=r.find((function(e){return e.artistId===t.artistId})))&&(s({id:null===n||void 0===n?void 0:n.id,following:!0}),p(j+" following"));case 3:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}})()()}),[]),Object(m.jsx)("button",{className:j,onClick:b})},T=a(36),L=(a(74),function(t){var e=Object(r.useState)(!1),a=Object(i.a)(e,2),n=a[0],c=a[1],s=Object(r.useState)([]),o=Object(i.a)(s,2),u=o[0],l=o[1];return Object(r.useEffect)((function(){if(n){!function(){0===u.length&&t.callback(Object(k.a)(t.artists));!function(e){t.callback(Object(k.a)(e))}(t.artists.filter((function(t){var e,a=Object(T.a)(u);try{var r=function(){var a=e.value;if(!t.artistMusicGenres.find((function(t){return t.genre===a})))return{v:!1}};for(a.s();!(e=a.n()).done;){var n=r();if("object"===typeof n)return n.v}}catch(c){a.e(c)}finally{a.f()}return!0}))),c(!1)}()}}),[n,u,t]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("p",{children:"Choose filters"}),Object(m.jsx)("div",{className:"filter-list",children:t.genres.map((function(t){return Object(m.jsxs)("div",{className:"filter",children:[Object(m.jsx)("input",{type:"checkbox",value:t.genre,onClick:function(t){return function(t){var e=t.target.value;if(u.includes(e)){var a=u.filter((function(t){return t!==e}));l(Object(k.a)(a))}else u.push(e),l(Object(k.a)(u));c(!0)}(t)}}),Object(m.jsx)("label",{htmlFor:"musicGenre",children:t.genre})]},t.id)}))})]})});!function(t){t.Loading="Loading...",t.Error="Error...",t.OK="OK"}(P||(P={}));var U,E=function(t){return t.pageStatus===P.Loading?Object(m.jsx)("div",{children:"Loading.."}):t.pageStatus===P.Error?Object(m.jsxs)("div",{className:"alert alert-danger",children:["Error... ",t.statusCode]}):Object(m.jsx)(m.Fragment,{})},D=(a(75),function(t){return Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:Object(m.jsx)("img",{className:"img-small",src:I+"/images/"+t.artist.imagePath,alt:""})}),Object(m.jsx)("td",{children:Object(m.jsx)(p.b,{to:"/artists/"+t.artist.name,children:t.artist.name})}),Object(m.jsx)("td",{children:t.artist.bio}),Object(m.jsx)("td",{className:"followers-number",children:t.artist.followers}),t.appState.token&&t.appState.artistId!==t.artist.id?Object(m.jsx)("td",{className:"follow-button-container",children:Object(m.jsx)(A,{artistId:t.artist.id,index:t.index,updateArtistsFollowers:t.updateArtistsFollowers})}):Object(m.jsx)("td",{})]})}),G=function(){var t=Object(r.useContext)(O),e=Object(r.useState)([]),a=Object(i.a)(e,2),n=a[0],c=a[1],s=Object(r.useState)([]),o=Object(i.a)(s,2),j=o[0],p=o[1],b=Object(r.useState)([]),f=Object(i.a)(b,2),h=f[0],x=f[1],v=Object(r.useState)({pageStatus:P.Loading,statusCode:-1}),g=Object(i.a)(v,2),y=g[0],N=g[1],w=function(t,e){j[t].followers=e,p(Object(k.a)(j))},C=Object(r.useCallback)(Object(d.a)(u.a.mark((function t(){var e;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e={},t.next=3,F.getAll("/artists/withmusicgenres");case 3:e=t.sent,console.log(e),e.ok&&e.data?(N({pageStatus:P.OK,statusCode:0}),c(e.data),p(e.data)):N({pageStatus:P.Error,statusCode:e.statusCode});case 6:case"end":return t.stop()}}),t)}))),[]),S=function(){var t=Object(d.a)(u.a.mark((function t(){var e;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F.getAll("/musicgenres");case 2:(e=t.sent).ok&&e.data?(N({pageStatus:P.OK,statusCode:0}),x(e.data)):N({pageStatus:P.Error,statusCode:e.statusCode});case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(r.useEffect)((function(){0===j.length&&0===h.length&&(S(),C())}),[j.length,C,h.length]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(L,{callback:p,artists:n,genres:h}),j.length>0?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"view-title",children:"Artists"}),Object(m.jsxs)("table",{className:"table",children:[Object(m.jsx)("thead",{children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{}),Object(m.jsx)("th",{children:"Name"}),Object(m.jsx)("th",{children:"Bio"}),Object(m.jsx)("th",{className:"followers-number",children:"Followers"}),t.token?Object(m.jsx)("th",{className:"follow-button-label",children:"Follow"}):null]})}),Object(m.jsx)("tbody",{children:j.map((function(e,a){return Object(m.jsx)(D,{artist:e,appState:t,index:a,updateArtistsFollowers:w},e.id)}))})]})]}):Object(m.jsx)("div",{children:"Artists list is empty."}),Object(m.jsx)(E,Object(l.a)({},y))]})};!function(t){t.Primary="alert-primary",t.Secondary="alert-secondary",t.Success="alert-success",t.Danger="alert-danger",t.Warning="alert-warning",t.Info="alert-info",t.Light="alert-light",t.Dark="alert-dark"}(U||(U={}));var q,R=function(t){return t.show?Object(m.jsx)("div",{className:"alert "+t.alertClass,role:"alert",children:t.message}):null},B=function(t){var e=Object(r.useState)([]),a=Object(i.a)(e,2),n=a[0],c=a[1],s=function(){var t=Object(d.a)(u.a.mark((function t(){var e;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F.getAll("/musicgenres");case 2:(e=t.sent).ok&&e.data&&c(e.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(r.useEffect)((function(){s()}),[]),Object(m.jsx)("section",{children:Object(m.jsxs)("div",{className:"card-body",children:[Object(m.jsx)("p",{children:"Choose music genres you are working in"}),Object(m.jsx)("ul",{className:"list-group",children:n.map((function(e){return Object(m.jsx)("li",{className:"list-group-item rounded-0",children:Object(m.jsx)("div",{className:"custom-control custom-checkbox",children:Object(m.jsxs)("label",{className:"cursor-pointer font-italic d-block custom-control-label",htmlFor:e.id,children:[Object(m.jsx)("input",{onChange:function(a){return t.addMusicGenre(e)},className:"custom-control-input",type:"checkbox",value:e.genre},e.id),e.genre]})})},e.id)}))})]})})},M=function(){var t=Object(r.useContext)(O),e=Object(j.g)(),a=Object(r.useState)({name:"",bio:"",appUserId:"",musicGenres:[]}),n=Object(i.a)(a,2),c=n[0],s=n[1],o=Object(r.useState)(""),p=Object(i.a)(o,2),b=p[0],f=p[1],h=function(){var a=Object(d.a)(u.a.mark((function a(){var r,n;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(""!==c.name){a.next=3;break}return f("Name can't be empty!"),a.abrupt("return");case 3:return c.appUserId=t.getUserId(t.token),a.next=6,F.post("/artists",c,t.token);case 6:(r=a.sent).ok?(n=r.data,t.promoteToTempArtist(t,n.id),e.push("/artists")):f(r.messages[0]);case 8:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return Object(m.jsx)("div",{className:"form-box",children:Object(m.jsxs)("section",{children:[Object(m.jsx)("h2",{children:"Want to become an artist?"}),Object(m.jsx)("br",{}),Object(m.jsx)("h6",{children:"Tell us something about you."}),Object(m.jsxs)("ul",{children:[Object(m.jsx)("li",{children:Object(m.jsx)("label",{htmlFor:"artistName",children:" Name "})}),Object(m.jsx)("input",{type:"text",id:"artistName",name:"artistName",value:c.name,onChange:function(t){return s(Object(l.a)(Object(l.a)({},c),{},{name:t.target.value}))},placeholder:"your alias",minLength:2,required:!0})]}),Object(m.jsxs)("ul",{children:[Object(m.jsx)("li",{children:Object(m.jsx)("label",{htmlFor:"bio",children:" Bio "})}),Object(m.jsx)("textarea",{id:"bio",name:"bio",value:c.bio,onChange:function(t){return s(Object(l.a)(Object(l.a)({},c),{},{bio:t.target.value}))}})]}),Object(m.jsx)(B,{addMusicGenre:function(t){if(c.musicGenres.find((function(e){return e.id===t.id}))){var e=c.musicGenres.filter((function(e){return e.id!==t.id}));s(Object(l.a)(Object(l.a)({},c),{},{musicGenres:e}))}else c.musicGenres.push(t),s(Object(l.a)(Object(l.a)({},c),{},{musicGenres:Object(k.a)(c.musicGenres)}))}}),Object(m.jsx)("div",{className:"form-group",children:Object(m.jsx)("button",{onClick:h,type:"submit",className:"btn btn-secondary",children:"Submit"})}),Object(m.jsx)(R,{show:""!==b,message:b,alertClass:U.Danger})]})})};a(76);!function(t){t[t.Playing=0]="Playing",t[t.OnPause=1]="OnPause",t[t.Ended=2]="Ended"}(q||(q={}));a(77);var Y="fa fa-heart",K=function(t){var e=Object(r.useContext)(O),a=Object(r.useState)({liked:!1}),n=Object(i.a)(a,2),c=n[0],s=n[1],o=Object(r.useState)(Y),l=Object(i.a)(o,2),j=l[0],p=l[1],b=function(){var a=Object(d.a)(u.a.mark((function a(){var r,n,i,o,l;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(c.liked){a.next=8;break}return r={productId:t.productId},a.next=4,F.post("/userlikes",r,e.token);case 4:(n=a.sent).ok&&n.data&&(i=n.data,t.handleLike(t.productIndex,i.likesAfterUpdate),s({id:i.id,liked:!0}),p("fa fa-heart liked"),e.updateUserLikedProductsList(e)),a.next=12;break;case 8:return a.next=10,F.delete("/userlikes/",e.token,[t.productId]);case 10:(o=a.sent).ok&&o.data&&(l=o.data,t.handleLike(t.productIndex,l.likesAfterRemove),s({id:null,liked:!1}),p(Y),e.updateUserLikedProductsList(e));case 12:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return Object(r.useEffect)((function(){return function(){var a=Object(d.a)(u.a.mark((function a(){var r,n;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:r=e.likedProducts,(n=r.find((function(e){return e.productId===t.productId})))&&(s({id:null===n||void 0===n?void 0:n.id,liked:!0}),"fa fa-heart liked",p("fa fa-heart liked"));case 3:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}()(),function(){console.log("unmounted"),s({liked:!1}),p(Y)}}),[]),Object(m.jsx)("button",{onClick:b,children:Object(m.jsx)("i",{className:j})})},J=(a(78),function(t){var e=Object(r.useContext)(O),a=function(){var a=Object(d.a)(u.a.mark((function a(){var r,n;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("clicked"),r={productId:t.productId},a.next=4,F.post("/productincarts",r,e.token);case 4:(n=a.sent).ok&&n.data&&e.updateUserCart(e);case 6:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return Object(m.jsx)("div",{className:"add-to-cart-button",children:Object(m.jsx)("button",{className:"add-to-cart",onClick:a,children:"Add to cart"})})}),V=(a(79),function(t){return Object(m.jsx)("div",{className:"d-flex justify-content-center py-2",children:Object(m.jsxs)("div",{className:"second py-2 px-2",children:[" ",Object(m.jsx)("span",{className:"text1",children:t.comment.text}),Object(m.jsxs)("div",{className:"d-flex justify-content-between py-1 pt-2",children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("img",{src:I+"/images/"+t.comment.appUserImage,alt:"",width:"18"}),Object(m.jsx)("span",{className:"text2",children:t.comment.appUserName})]}),Object(m.jsx)("div",{children:Object(m.jsx)("span",{className:"text4",children:t.comment.published})})]})]})})}),W=function(t){var e=Object(r.useContext)(O),a=Object(r.useState)([]),n=Object(i.a)(a,2),c=n[0],s=n[1],o=Object(r.useState)({text:"",productId:""}),j=Object(i.a)(o,2),p=j[0],b=j[1],f=Object(r.useState)("comment-section-container justify-content-center border-left border-right"),h=Object(i.a)(f,2),x=h[0],v=h[1],g=function(){var t=Object(d.a)(u.a.mark((function t(a){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("Enter"!==a.key){t.next=5;break}return t.next=3,F.post("/comments",p,e.token);case 3:(r=t.sent).ok&&r.data&&(b({text:"",productId:""}),k());case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();Object(r.useEffect)((function(){""===p.productId&&(p.productId=t.product.id)}),[e,t.product.id,p,p.productId]);var k=function(){var e=Object(d.a)(u.a.mark((function e(){var a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t.product.id),e.next=3,F.getAll("/comments/"+t.product.id);case 3:a=e.sent,console.log(a),a.ok&&a.data&&(r=a.data,s(r));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){return v(x+" show"),console.log("loaded"),k(),function(){console.log("unmounted"),s([]),b({text:"",productId:""})}}),[]),Object(m.jsxs)("div",{className:x,children:[Object(m.jsx)("div",{className:"d-flex justify-content-center pt-3 pb-2",children:Object(m.jsxs)("i",{children:["Product ",Object(m.jsx)("em",{children:t.product.title})]})}),c.length>0?c.map((function(t){return Object(m.jsx)(V,{comment:t},t.id)})):Object(m.jsx)("div",{children:"No comments..."}),e.token?Object(m.jsx)("div",{className:"d-flex justify-content-center pt-3 pb-2",children:Object(m.jsx)("input",{value:p.text,type:"text",name:"text",placeholder:"+ Write a comment",className:"form-control addtxt",onChange:function(t){b(Object(l.a)(Object(l.a)({},p),{},{text:t.target.value}))},onKeyPress:g})}):null]})},_=(a(80),{serverLocation:"",src:"",player:null,play:function(){},pause:function(){},stop:function(){},setSrc:function(){},isPlaying:!1}),z={serverLocation:I,src:"",player:new Audio,play:function(){this.player.play(),this.isPlaying=!0},pause:function(){this.player.pause(),this.isPlaying=!1},stop:function(){this.player.pause(),this.player.currentTime=0},setSrc:function(t){this.src=t;var e=this.serverLocation+this.src;this.player.src=e},isPlaying:!1},H=function(t){var e=Object(r.useContext)(O),a=Object(r.useState)(!1),n=Object(i.a)(a,2),c=n[0],s=n[1],o=function(){var a=Object(d.a)(u.a.mark((function a(){var r,n,c;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r={trackId:t.track.id},a.next=3,F.post("/playcounts",r,e.token);case 3:(n=a.sent).ok&&n.data&&(s(!0),c=n.data,t.handlePlay(t.productIndex,t.trackIndex,c.playCountAfterUpdate));case 5:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return Object(m.jsxs)("tr",{className:"product-track",children:[Object(m.jsxs)("td",{className:"track-play-button",children:[Object(m.jsx)("button",{onClick:function(){t.playerState===q.Playing?(t.setPlayerState(q.OnPause),t.player.pause()):(t.player.src!==t.track.fileLocation&&t.player.setSrc(t.track.fileLocation),t.setPlayerState(q.Playing),!1===c&&o(),t.player.play())},children:t.player.src===t.track.fileLocation&&t.playerState===q.Playing?Object(m.jsx)("span",{children:"\u275a\u275a"}):Object(m.jsx)("span",{children:"\u25ba"})}),Object(m.jsx)("button",{onClick:function(){t.setPlayerState(q.OnPause),t.player.stop()},children:Object(m.jsx)("span",{children:"\u23f9"})})]}),Object(m.jsx)("td",{className:"track-title",children:Object(m.jsx)("span",{children:t.track.title})}),Object(m.jsx)("td",{className:"track-playcount",children:Object(m.jsx)("span",{children:t.track.playCount})}),Object(m.jsx)("td",{className:"track-duration",children:Object(m.jsx)("span",{children:t.track.duration.toString().substring(3)})})]})},Q=function(t){var e=Object(r.useContext)(O);return Object(m.jsxs)("li",{className:"product-view",children:[Object(m.jsxs)("div",{className:"product-view-container",children:[Object(m.jsx)("div",{className:"product-img",children:Object(m.jsx)("img",{className:"vertical-center",src:I+"/images/"+t.product.imagePath,alt:""})}),Object(m.jsxs)("div",{className:"product-content",children:[Object(m.jsxs)("div",{className:"product-title",children:[Object(m.jsx)(p.b,{to:"/artists/"+t.artist.name+"/products/"+t.product.title,children:Object(m.jsxs)("span",{children:["Title: ",Object(m.jsx)("i",{children:t.product.title})]})}),Object(m.jsxs)("span",{style:{float:"right"},children:["Duration: ",t.product.duration]})]}),Object(m.jsx)("table",{className:"product-tracks",children:Object(m.jsx)("tbody",{children:t.product.tracks.sort((function(t,e){return a=t.trackNumber,r=e.trackNumber,a>r?1:a<r?-1:0;var a,r})).map((function(e,a){return Object(m.jsx)(H,{productIndex:t.productIndex,trackIndex:a,handlePlay:t.handlePlay,player:t.player,playerState:t.playerState,setPlayerState:t.setPlayerState,track:e},e.trackNumber)}))})})]})]}),Object(m.jsxs)("div",{className:"product-marketing-info",children:[Object(m.jsxs)("div",{className:"product-price-wrapper",children:[Object(m.jsxs)("i",{className:"product-price",children:["Price: ",t.product.price]}),function(){if(!e.token||e.artistId!==t.artist.id)return e.token?Object(m.jsx)(J,{productId:t.product.id}):Object(m.jsx)("div",{className:"add-to-cart-button",children:Object(m.jsx)(p.b,{to:"/account/login",children:Object(m.jsx)("button",{className:"add-to-cart",children:"Donate"})})})}()]}),void 0!==t.handleViewComments?Object(m.jsx)("div",{className:"product-comments",children:Object(m.jsx)("button",{onClick:function(){return t.handleViewComments(t.product)},children:Object(m.jsx)("i",{className:"icon-comments",children:"Comments"})})}):null,Object(m.jsxs)("div",{className:"product-likes",children:[Object(m.jsxs)("i",{className:"icon-likes",children:["Likes: ",t.product.likes]}),function(){if(!e.token||e.artistId!==t.artist.id)return e.token?Object(m.jsx)(K,{handleLike:t.handleLike,productIndex:t.productIndex,productId:t.product.id}):Object(m.jsx)(p.b,{to:"/account/login",children:Object(m.jsx)("button",{children:Object(m.jsx)("i",{className:"fa fa-heart"})})})}()]})]}),t.product.genre?Object(m.jsxs)("p",{style:{marginLeft:"10px"},children:["Music genre: ",t.product.genre]}):null,t.product.format?Object(m.jsxs)("p",{style:{marginLeft:"10px"},children:["Product fromat: ",t.product.format]}):null,t.product.type?Object(m.jsxs)("p",{style:{marginLeft:"10px"},children:["Product type: ",t.product.type]}):null,t.product.description?Object(m.jsxs)("p",{style:{marginLeft:"10px"},children:["Description: ",t.product.description]}):null]})},X="artist-profile",Z=function(){var t=Object(j.h)().alias,e=Object(r.useState)({}),a=Object(i.a)(e,2),n=a[0],c=a[1],s=Object(r.useState)({pageStatus:P.Loading,statusCode:-1}),o=Object(i.a)(s,2),p=o[0],b=o[1],O=Object(r.useState)(z),f=Object(i.a)(O,2),h=f[0],x=f[1],v=Object(r.useState)(q.OnPause),g=Object(i.a)(v,2),k=g[0],y=g[1],N=Object(r.useState)(X),w=Object(i.a)(N,2),C=w[0],S=w[1],A=Object(r.useState)({product:{},toggled:!1}),T=Object(i.a)(A,2),L=T[0],U=T[1];Object(r.useEffect)((function(){function e(){return(e=Object(d.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.get("/artists/"+t);case 2:(a=e.sent).ok&&a.data?(b({pageStatus:P.OK,statusCode:0}),c(a.data)):b({pageStatus:P.Error,statusCode:a.statusCode});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return function(){e.apply(this,arguments)}(),function(){h.pause(),x(_)}}),[t]);var D=function(t,e){n.products[t].likes=e,c(Object(l.a)({},n))},G=function(t,e,a){n.products[t].tracks[e].playCount=a,c(Object(l.a)({},n))},R=function(t){L.toggled?(S(X),U({product:t,toggled:!1})):(S(C+" opened"),U({product:t,toggled:!0}))};return Object(m.jsx)(m.Fragment,{children:p.pageStatus===P.OK?Object(m.jsx)("div",{className:"artist-profile-container",children:Object(m.jsxs)("div",{className:C,children:[Object(m.jsxs)("div",{className:"artist-profile-main-info",children:[Object(m.jsxs)("div",{className:"artist-info",children:[Object(m.jsx)("div",{className:"artist-profile-pic",children:Object(m.jsx)("img",{className:"img-big",src:I+"/images/"+n.imagePath,alt:""})}),Object(m.jsxs)("div",{className:"artist-info-name",children:["Name: ",n.name]}),Object(m.jsxs)("div",{className:"artist-info-bio",children:["Bio: ",n.bio]}),Object(m.jsxs)("div",{className:"artist-info-followers",children:["Followers: ",n.followers]})]}),Object(m.jsxs)("div",{className:"artist-profile-tracks",children:[Object(m.jsx)("p",{className:"tracks-label",children:"Products: "}),Object(m.jsx)("ul",{id:"artist-products",children:n.products&&n.products.length>0?n.products.map((function(t,e){return Object(m.jsx)(Q,{artist:n,handlePlay:G,handleLike:D,handleViewComments:R,productIndex:e,player:h,playerState:k,setPlayerState:y,product:t},t.id)})):Object(m.jsx)("p",{children:"There are currently no any products"})})]})]}),L.toggled?Object(m.jsx)(W,{product:L.product}):null]})}):Object(m.jsx)(E,Object(l.a)({},p))})},$=function(){var t=Object(j.h)().id;return Object(m.jsxs)("div",{children:["ArtistEdit ",t]})},tt=function(){var t=Object(j.h)().id;return Object(m.jsxs)("div",{children:["ArtistDelete ",t]})},et=function(t){var e=Object(r.useContext)(O),a=function(){var a=Object(d.a)(u.a.mark((function a(){var r;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,F.post("/orders","",e.token);case 2:r=a.sent,console.log(r),r.ok&&(console.log("Order is made successfully"),e.updateUserCart(e),t.updateCartData());case 5:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return Object(m.jsx)("button",{onClick:a,children:"Order!"})},at={total:0,quantity:0,cartProducts:[],productsInOrders:[]},rt=function(){var t=Object(r.useContext)(O),e=Object(r.useState)(at),a=Object(i.a)(e,2),n=a[0],c=a[1],s=Object(r.useState)(""),o=Object(i.a)(s,2),j=o[0],p=o[1];Object(r.useEffect)((function(){function e(){return(e=Object(d.a)(u.a.mark((function e(){var a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.getUserId(t.token),e.next=3,F.get("/carts/status/detailed/",t.token,[a]);case 3:(r=e.sent).ok&&r.data&&c({total:r.data.total,quantity:r.data.quantity,cartProducts:r.data.cartProducts,productsInOrders:r.data.productsInOrders});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]);return Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{children:"Your cart"}),Object(m.jsxs)("div",{children:["Total: ",n.total]}),Object(m.jsxs)("div",{children:["Quantity: ",n.quantity]}),Object(m.jsx)("div",{children:n.cartProducts.map((function(t){return Object(m.jsxs)("div",{children:["Product with title: ",t.title," and price: ",t.price]},t.id)}))}),n.cartProducts.length>0?Object(m.jsx)(et,{updateCartData:function(){c(Object(l.a)(Object(l.a)({},n),{},{productsInOrders:[]})),p("You succesfully order the products!"),setTimeout((function(){return p("")}),3e3)}}):null,Object(m.jsx)(R,{show:""!==j,message:j,alertClass:U.Success})]})},nt=function(){function t(){Object(y.a)(this,t)}return Object(N.a)(t,null,[{key:"Login",value:function(){var t=Object(d.a)(u.a.mark((function t(e,a){var r,n,c,s,i,o,l;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=JSON.stringify(a),t.prev=1,t.next=4,this.axios.post(e,r,{headers:{"Content-Type":"application/json"}});case 4:return n=t.sent,t.abrupt("return",{ok:n.status<=299,statusCode:n.status,data:n.data});case 8:return t.prev=8,t.t0=t.catch(1),o=t.t0,l=null===(c=o.response)||void 0===c?void 0:c.data,t.abrupt("return",{ok:!1,statusCode:null!==(s=null===(i=o.response)||void 0===i?void 0:i.status)&&void 0!==s?s:500,messages:void 0!==l?l.messages:["Server is currently off"]});case 13:case"end":return t.stop()}}),t,this,[[1,8]])})));return function(e,a){return t.apply(this,arguments)}}()},{key:"Register",value:function(){var t=Object(d.a)(u.a.mark((function t(e,a){var r,n,c,s,i,o;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(r=new FormData).append("Email",a.email),r.append("Password",a.password),r.append("FirstName",a.firstName),r.append("LastName",a.lastName),r.append("Birthday",a.birthday),r.append("CountryName",a.countryName),r.append("ImageFile",a.imageFile),t.prev=8,t.next=11,this.axios.post(e,r,{headers:{"Content-Type":"multipart/form-data"}});case 11:return n=t.sent,console.log(n),t.abrupt("return",{ok:n.status<=299,statusCode:n.status,data:n.data});case 16:return t.prev=16,t.t0=t.catch(8),o=t.t0,t.abrupt("return",{ok:!1,statusCode:null!==(c=null===(s=o.response)||void 0===s?void 0:s.status)&&void 0!==c?c:500,messages:(null===(i=o.response)||void 0===i?void 0:i.data).messages});case 20:case"end":return t.stop()}}),t,this,[[8,16]])})));return function(e,a){return t.apply(this,arguments)}}()}]),t}();nt.axios=C.a.create({baseURL:S});var ct,st=function(){var t=Object(r.useContext)(O),e=Object(j.g)(),a=Object(r.useState)({email:"",password:""}),n=Object(i.a)(a,2),c=n[0],s=n[1],o=Object(r.useState)(""),b=Object(i.a)(o,2),f=b[0],h=b[1],x=function(){var a=Object(d.a)(u.a.mark((function a(){var r,n;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return""!==c.email&&""!==c.password||h("Empty email or password"),h(""),a.next=4,nt.Login("/account/login",c);case 4:(r=a.sent).ok?(h(""),n=r.data,t.setAuthInfo(n),e.push("/")):h(r.messages[0]);case 6:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return Object(m.jsxs)("div",{className:"form-box",children:[Object(m.jsxs)("section",{children:[Object(m.jsx)("h2",{children:"Sign In"}),Object(m.jsx)("p",{children:"Already have an account? Sign In."}),Object(m.jsxs)("ul",{children:[Object(m.jsx)("li",{children:Object(m.jsx)("label",{htmlFor:"username",children:" Email Address "})}),Object(m.jsx)("input",{type:"email",id:"username",name:"username","v-model":"email",placeholder:"name@example.com",required:!0,value:c.email,onChange:function(t){return s(Object(l.a)(Object(l.a)({},c),{},{email:t.target.value}))}})]}),Object(m.jsxs)("ul",{children:[Object(m.jsx)("li",{children:Object(m.jsx)("label",{htmlFor:"password",children:" Password "})}),Object(m.jsx)("input",{type:"password",id:"password",name:"password","v-model":"password",placeholder:"************",required:!0,value:c.password,onChange:function(t){return s(Object(l.a)(Object(l.a)({},c),{},{password:t.target.value}))}})]}),Object(m.jsx)("br",{}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("button",{onClick:x,type:"submit",className:"btn btn-primary",children:"Log in"}),Object(m.jsx)(p.c,{type:"submit",className:"btn btn-secondary",to:"/account/register",children:"Register"})]})]}),Object(m.jsx)(R,{show:""!==f,message:f,alertClass:U.Danger})]})},it={email:"",password:"",firstName:"",lastName:"",birthday:"",countryName:"",imageFile:null},ot=function(){var t=Object(r.useContext)(O),e=Object(j.g)(),a=Object(r.useState)([]),n=Object(i.a)(a,2),c=n[0],s=n[1],o=Object(r.useState)({value:""}),p=Object(i.a)(o,2),b=p[0],f=p[1],h=Object(r.useState)(it),x=Object(i.a)(h,2),v=x[0],g=x[1],k=Object(r.useState)(""),y=Object(i.a)(k,2),N=y[0],w=y[1],C=function(){var a=Object(d.a)(u.a.mark((function a(r){var n,c;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(r.preventDefault(),console.log(v),""!==v.email&&""!==v.password){a.next=5;break}return w("Empty email or password!"),a.abrupt("return");case 5:if(v.password===b.value){a.next=9;break}return w("Passwords don't match!"),a.abrupt("return");case 9:return w(""),a.next=13,nt.Register("/account/register",v);case 13:(n=a.sent).ok?(w(""),c=n.data,t.setAuthInfo(c),e.push("/")):w(void 0!==n.messages?n.messages[0]:"Fill submition form");case 15:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}(),S=function(){var t=Object(d.a)(u.a.mark((function t(){var e;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F.getAll("/countries");case 2:(e=t.sent).ok&&e.data&&s(e.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(r.useEffect)((function(){S()}),[]),Object(m.jsxs)("div",{className:"form-box",children:[Object(m.jsx)("h2",{children:"Register"}),Object(m.jsx)("p",{className:"login-help",children:"Don't have an account yet? Just submit a register htmlForm."}),Object(m.jsxs)("fieldset",{children:[Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{htmlFor:"email",children:" Email Address "}),Object(m.jsx)("br",{}),Object(m.jsx)("input",{type:"email",id:"email",name:"email",value:v.email,onChange:function(t){return g(Object(l.a)(Object(l.a)({},v),{},{email:t.target.value}))},placeholder:"name@example.com",required:!0})]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{htmlFor:"password",children:"Password"}),Object(m.jsx)("input",{className:"form-control",type:"password",name:"password",value:v.password,onChange:function(t){return g(Object(l.a)(Object(l.a)({},v),{},{password:t.target.value}))},placeholder:"**********"})]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{htmlFor:"password",children:"Confirm password"}),Object(m.jsx)("input",{className:"form-control",type:"password",name:"password",value:b.value,onChange:function(t){return f({value:t.target.value})},placeholder:"**********"})]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{htmlFor:"firstName",children:"First name"}),Object(m.jsx)("input",{className:"form-control",type:"text",name:"firstName",value:v.firstName,onChange:function(t){return g(Object(l.a)(Object(l.a)({},v),{},{firstName:t.target.value}))}})]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{htmlFor:"lastName",children:"Last name"}),Object(m.jsx)("input",{className:"form-control",type:"text",id:"lastName",name:"lastName",value:v.lastName,onChange:function(t){return g(Object(l.a)(Object(l.a)({},v),{},{lastName:t.target.value}))}})]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{htmlFor:"birthday",children:"Birthday"}),Object(m.jsx)("input",{className:"form-control",type:"date",id:"birthday",name:"birthday",value:v.birthday,onChange:function(t){return g(Object(l.a)(Object(l.a)({},v),{},{birthday:t.target.value}))}})]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{className:"control-label",htmlFor:"countryName",children:"Choose a country"}),Object(m.jsxs)("select",{className:"form-control",id:"Input_CountryId",name:"Input.CountryId",value:v.countryName,onChange:function(t){return g(Object(l.a)(Object(l.a)({},v),{},{countryName:t.target.value}))},children:[Object(m.jsx)("option",{value:"",children:"--- Please select ---"}),c.map((function(t){return Object(m.jsx)("option",{value:t.name,children:t.name},t.id)}))]})]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{htmlFor:"image",children:"Select image"}),Object(m.jsx)("br",{}),Object(m.jsx)("input",{type:"file",id:"image",name:"image",accept:"image/*",onChange:function(t){t.preventDefault(),g(Object(l.a)(Object(l.a)({},v),{},{imageFile:t.target.files[0]}))}})]})]}),Object(m.jsx)("button",{onClick:function(t){return C(t)},type:"submit",className:"btn btn-primary",children:"Register"}),Object(m.jsx)(R,{show:""!==N,message:N,alertClass:U.Danger})]})},ut=function(){return Object(m.jsx)("div",{children:"Page not found - 404!"})},lt=function(t){return Object(m.jsx)("form",{action:"",children:Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{htmlFor:"formInputEmail"}),Object(m.jsx)("input",{value:t.values.input,onChange:function(e){return t.handleChange(e.target)},className:"form-control",type:"text",id:"formInputText"})]})})},dt={input:"",checkbox:!1,radio:!1,textarea:"",select:""},jt=function(){var t=Object(r.useState)(dt),e=Object(i.a)(t,2),a=e[0],n=e[1];return Object(m.jsx)(lt,{values:a,handleChange:function(t){var e=a;"formInputText"!==t.id||n(Object(l.a)(Object(l.a)({},e),{},{input:t.value}))}})},pt=a(37),bt={name:"",bio:""},Ot=function(){var t=Object(r.useContext)(O),e=Object(r.useState)(bt),a=Object(i.a)(e,2),n=a[0],c=a[1],s=Object(r.useState)(""),o=Object(i.a)(s,2),j=o[0],p=o[1],b=function(){var e=Object(d.a)(u.a.mark((function e(a){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,F.put("/artists",n,t.token);case 3:(r=e.sent).ok&&r.data&&(p("Updated!"),setTimeout((function(){return p("")}),3e3));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{children:[t.firstName," ",t.lastName," its your profile!"]}),Object(m.jsx)("div",{className:"form-box",children:Object(m.jsxs)("form",{children:[t.isArtist?Object(m.jsxs)("div",{children:[Object(m.jsx)("label",{htmlFor:"manage-info",children:"Manage your account preferences"}),Object(m.jsx)("p",{children:"Change your artist info"}),Object(m.jsxs)("fieldset",{children:[Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{htmlFor:"email",children:"Name"}),Object(m.jsx)("br",{}),Object(m.jsx)("input",{type:"text",value:n.name,onChange:function(t){return c(Object(l.a)(Object(l.a)({},n),{},{name:t.target.value}))}})]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{htmlFor:"bio",children:"Bio"}),Object(m.jsx)("br",{}),Object(m.jsx)("input",{type:"text",value:n.bio,onChange:function(t){return c(Object(l.a)(Object(l.a)({},n),{},{bio:t.target.value}))}})]})]}),Object(m.jsx)("button",{onClick:function(t){return b(t)},children:"Update!"})]}):null,Object(m.jsx)(R,{show:""!==j,message:j,alertClass:U.Success})]})})]})},ft=function(){var t=Object(r.useContext)(O),e=Object(r.useState)([]),a=Object(i.a)(e,2),n=a[0],c=a[1],s=Object(r.useState)({pageStatus:P.Loading,statusCode:-1}),o=Object(i.a)(s,2),j=o[0],p=o[1],b=function(e){console.log("unsubscribe"),t.updateUserFavoriteArtistList(t),n=n.filter((function(t){return t.id!==n[e].id})),c(Object(k.a)(n))};return Object(r.useEffect)((function(){return function(){var e=Object(d.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.getAll("/favoritelists/following/detailed",t.token);case 2:a=e.sent,console.log(a),a.ok&&a.data?(p({pageStatus:P.OK,statusCode:0}),c(a.data)):p({pageStatus:P.Error,statusCode:a.statusCode});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),function(){c([])}}),[t]),Object(m.jsxs)(m.Fragment,{children:[n.length>0?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{children:"Artists"}),Object(m.jsxs)("table",{className:"table",children:[Object(m.jsx)("thead",{children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{}),Object(m.jsx)("th",{children:"Name"}),Object(m.jsx)("th",{children:"Bio"}),Object(m.jsx)("th",{className:"followers-number",children:"Followers"}),Object(m.jsx)("th",{className:"follow-button-label",children:"Unfollow"})]})}),Object(m.jsx)("tbody",{children:n.map((function(e,a){return Object(m.jsx)(D,{artist:e.artist,appState:t,index:a,removeArtistFromFavoriteList:b},e.artist.id)}))})]})]}):Object(m.jsx)("div",{children:"Your favorite artists list is empty. Add artists to favorites to be able to see them here!"}),Object(m.jsx)(E,Object(l.a)({},j))]})};!function(t){t[t.NotUploaded=0]="NotUploaded",t[t.Uploaded=1]="Uploaded",t[t.OnNetwork=2]="OnNetwork"}(ct||(ct={}));a(81);var mt={productTypes:[],productFormats:[],musicGenres:[]},ht={title:"",image:null,description:"",price:0,secondPrice:null,tracks:[],productTypeId:"",musicGenreId:"",productFormatId:""},xt=function(t){var e=Object(r.useContext)(O),a=Object(j.g)(),n=Object(r.useState)(ht),c=Object(i.a)(n,2),s=c[0],o=c[1],p=Object(r.useState)(mt),b=Object(i.a)(p,2),f=b[0],h=b[1],x=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v();case 2:o(Object(l.a)(Object(l.a)({},s),{},{tracks:t.uploadedTracksIds}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var t=Object(d.a)(u.a.mark((function t(){var e,a,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F.getAll("/producttypes");case 2:return e=t.sent,t.next=5,F.getAll("/productformats");case 5:return a=t.sent,t.next=8,F.getAll("/musicgenres");case 8:r=t.sent,console.log(e,a,r),e.ok&&e.data&&a.ok&&a.data&&r.ok&&r.data&&h({musicGenres:r.data,productFormats:a.data,productTypes:e.data});case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),g=function(){var t=Object(d.a)(u.a.mark((function t(r){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),t.next=3,F.postProduct("/products",s,e.token);case 3:(n=t.sent).ok&&n.data&&a.push("/you/products");case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(r.useEffect)((function(){x()}),[]),Object(m.jsxs)("div",{children:[Object(m.jsx)("h3",{children:"Step 2"}),Object(m.jsx)("p",{children:"You almost there! Now fill the submission form for your brand new product to get upload it to Identikit!"}),Object(m.jsxs)("form",{className:"form-box",children:[Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{htmlFor:"title",children:"Title"}),Object(m.jsx)("input",{type:"text",id:"title",onChange:function(t){return function(t){o(Object(l.a)(Object(l.a)({},s),{},{title:t.target.value}))}(t)}})]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{htmlFor:"description",children:"Description"}),Object(m.jsx)("input",{type:"textarea",id:"description",onChange:function(t){return function(t){o(Object(l.a)(Object(l.a)({},s),{},{description:t.target.value}))}(t)}})]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{htmlFor:"price",children:"Price"}),Object(m.jsx)("input",{type:"number",id:"price",placeholder:"0.00",onChange:function(t){return function(t){o(Object(l.a)(Object(l.a)({},s),{},{price:+t.target.value}))}(t)}})]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{htmlFor:"secondPrice",children:"SecondPrice"}),Object(m.jsx)("input",{type:"number",id:"secondPrice",onChange:function(t){return function(t){o(Object(l.a)(Object(l.a)({},s),{},{secondPrice:+t.target.value}))}(t)}})]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{htmlFor:"musicGenre",children:"Chooose music genre"}),Object(m.jsxs)("select",{name:"musicGenre",id:"musicGenre",onChange:function(t){return e=t.target.value,void o(Object(l.a)(Object(l.a)({},s),{},{musicGenreId:e}));var e},children:[Object(m.jsx)("option",{value:""}),f.musicGenres.map((function(t){return Object(m.jsx)("option",{value:t.id,children:t.genre},t.id)}))]})]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{htmlFor:"productType",children:"Chooose product type"}),Object(m.jsxs)("select",{name:"productType",id:"productType",onChange:function(t){return e=t.target.value,void o(Object(l.a)(Object(l.a)({},s),{},{productTypeId:e}));var e},children:[Object(m.jsx)("option",{value:""}),f.productTypes.map((function(t){return Object(m.jsx)("option",{value:t.id,children:t.type},t.id)}))]})]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{htmlFor:"productFormat",children:"Chooose product format"}),Object(m.jsxs)("select",{name:"productFormat",id:"productFormat",onChange:function(t){return e=t.target.value,void o(Object(l.a)(Object(l.a)({},s),{},{productFormatId:e}));var e},children:[Object(m.jsx)("option",{value:""}),f.productFormats.map((function(t){return Object(m.jsx)("option",{value:t.id,children:t.format},t.format)}))]})]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{htmlFor:"image",children:"Select a cover for your product"}),Object(m.jsx)("em",{children:"If not chosen, your profile pic will be set!"}),Object(m.jsx)("br",{}),Object(m.jsx)("input",{type:"file",id:"image",name:"image",accept:"image/*",onChange:function(t){t.preventDefault(),o(Object(l.a)(Object(l.a)({},s),{},{image:t.target.files[0]}))}})]}),Object(m.jsx)("div",{className:"form-group",children:Object(m.jsx)("button",{onClick:function(t){return g(t)},type:"submit",className:"btn btn-secondary",children:"Submit"})})]})]})},vt=(a(82),function(t){return Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{className:"track-number-field",children:Object(m.jsx)("input",{type:"number",value:t.trackData.trackNumber,onChange:function(e){return function(e){t.handleTrackNumberUpdate(e.target.value,t.index)}(e)}})}),Object(m.jsx)("td",{className:"track-title-field",children:Object(m.jsx)("input",{type:"text",minLength:1,value:t.trackData.title,onChange:function(e){return function(e){t.handleTrackTitleUpdate(e.target.value,t.index)}(e)}})}),Object(m.jsx)("td",{children:Object(m.jsx)("button",{onClick:function(e){return function(e){e.preventDefault(),t.removeAddedFile()}(e)},className:"follow-button remove"})})]})}),gt=function(t){var e=Object(r.useState)([]),a=Object(i.a)(e,2),n=a[0],c=a[1],s=function(e){var a=n.filter((function(t){return t.title!==e}));t.updateTracks(Object(k.a)(a))},o=function(e,a){n[a].title=e,t.updateTracks(n)},u=function(e,a){n[a].trackNumber=e,t.updateTracks(n)};return Object(r.useEffect)((function(){c(t.tracks)}),[n,t]),Object(m.jsx)(m.Fragment,{children:n.length>0?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("p",{children:"You can change track number and track title"}),Object(m.jsxs)("table",{children:[Object(m.jsx)("thead",{children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{children:"Track number"}),Object(m.jsx)("th",{children:"Track name"}),Object(m.jsx)("th",{children:"Remove"})]})}),Object(m.jsx)("tbody",{children:n.map((function(t,e){return Object(m.jsx)(vt,{index:e,trackData:t,handleTrackNumberUpdate:u,handleTrackTitleUpdate:o,removeAddedFile:s},e)}))})]})]}):null})},kt=function(t){return Object(m.jsxs)("div",{children:[Object(m.jsx)("h3",{children:"Step 1"}),Object(m.jsx)("p",{children:"If you want to upload your brand new tracks as a product first add them"}),Object(m.jsxs)("form",{className:"form-box",children:[Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("p",{children:"Supported type is mp3!"}),Object(m.jsxs)("label",{htmlFor:"files",className:"add-track-button",children:["Choose files",Object(m.jsx)("input",{type:"file",accept:"audio/mpeg3",onChange:t.saveFilesToState,multiple:!0,hidden:!0,id:"files"})]})]}),Object(m.jsx)("br",{}),Object(m.jsx)(gt,{tracks:t.tracksState.tracksToUpload,updateTracks:t.updateTracksInState}),t.tracksState.tracksToUpload.length>0?Object(m.jsx)("button",{onClick:function(e){return t.uploadClicked(e)},type:"submit",className:"btn btn-primary",children:"Upload!"}):null]})]})},yt=function(){var t=Object(r.useContext)(O),e=Object(r.useState)({tracksToUpload:[],uploadedTracksIds:[]}),a=Object(i.a)(e,2),n=a[0],c=a[1],s=Object(r.useState)(ct.NotUploaded),o=Object(i.a)(s,2),j=o[0],p=o[1],b=function(t){t.preventDefault();var e=t.target.files,a=Array.from(e).map((function(t){return{title:t.name,trackNumber:"",trackFile:t}}));n.tracksToUpload.length>0?c(Object(l.a)(Object(l.a)({},n),{},{tracksToUpload:[].concat(Object(k.a)(n.tracksToUpload),Object(k.a)(a))})):c(Object(l.a)(Object(l.a)({},n),{},{tracksToUpload:Object(k.a)(a)}))},f=function(){var t=Object(d.a)(u.a.mark((function t(e){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),console.log("Uploading tracks to server"),t.next=4,h();case 4:a=t.sent,console.log("Tracks are uploaded",a),c(Object(l.a)(Object(l.a)({},n),{},{tracksToUpload:[],uploadedTracksIds:a})),p(ct.Uploaded);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();function h(){return x.apply(this,arguments)}function x(){return(x=Object(d.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],n.tracksToUpload.forEach(function(){var e=Object(d.a)(u.a.mark((function e(r){var n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.postTracks("/tracks",r,t.token);case 2:(n=e.sent).ok&&(c=n.data,a.push(c));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.abrupt("return",a);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var v=function(t){c(Object(l.a)(Object(l.a)({},n),{},{tracksToUpload:t}))};return Object(m.jsx)(m.Fragment,{children:j===ct.NotUploaded?Object(m.jsx)(kt,{tracksState:n,saveFilesToState:b,uploadClicked:f,updateTracksInState:v}):j===ct.Uploaded?Object(m.jsx)(xt,{uploadedTracksIds:n.uploadedTracksIds}):j===ct.OnNetwork?Object(m.jsx)("div",{children:"Yo!"}):void 0})},Nt=function(t){var e=Object(r.useContext)(O),a=function(){var a=Object(d.a)(u.a.mark((function a(){var r;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("remove from liked products"),a.next=3,F.delete("/userlikes/",e.token,[t.userLikeItem.id]);case 3:(r=a.sent).ok&&r.data&&(t.updateProductsList(t.userLikeItem.id),e.updateUserLikedProductsList(e));case 5:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:Object(m.jsx)("img",{className:"img-small",src:I+"/images/"+t.userLikeItem.product.imagePath,alt:""})}),Object(m.jsx)("td",{children:Object(m.jsx)(p.b,{to:"/artists/"+t.userLikeItem.artistName+"/products/"+t.userLikeItem.product.title,children:t.userLikeItem.product.title})}),Object(m.jsx)("td",{children:t.userLikeItem.product.description}),Object(m.jsxs)("td",{children:["Likes: ",t.userLikeItem.product.likes]}),Object(m.jsx)("td",{className:"follow-button-container",children:Object(m.jsx)("button",{onClick:a,children:"Dislike"})})]})},wt=function(){var t=Object(r.useContext)(O),e=Object(r.useState)([]),a=Object(i.a)(e,2),n=a[0],c=a[1],s=function(t){var e=n.filter((function(e){return e.id!==t}));c(Object(k.a)(e))};return Object(r.useEffect)((function(){return function(){var e=Object(d.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.getAll("/userlikes/likes/detailed",t.token);case 2:a=e.sent,console.log(a),a.ok&&a.data&&c(a.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),function(){c([])}}),[]),Object(m.jsx)(m.Fragment,{children:n.length>0?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{children:"Products"}),Object(m.jsxs)("table",{className:"table",children:[Object(m.jsx)("thead",{children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{}),Object(m.jsx)("th",{children:"Title"}),Object(m.jsx)("th",{children:"Description"}),Object(m.jsx)("th",{className:"followers-number",children:"Likes"}),Object(m.jsx)("th",{className:"follow-button-label",children:"Dislike"})]})}),Object(m.jsx)("tbody",{children:n.map((function(t){return Object(m.jsx)(Nt,{userLikeItem:t,updateProductsList:s},t.id)}))})]})]}):Object(m.jsx)("div",{children:"Your liked products list is empty. Like artist products to be able to see them here!"})})},Ct=function(t){return Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{children:t.product.title}),Object(m.jsx)("div",{children:t.product.description}),Object(m.jsx)("div",{children:t.product.format}),Object(m.jsx)("div",{children:t.product.title})]})},St=function(){var t=Object(r.useState)([]),e=Object(i.a)(t,2),a=e[0],n=e[1];return Object(r.useEffect)((function(){(function(){var t=Object(d.a)(u.a.mark((function t(){var e;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F.getAll("/products/owner");case 2:(e=t.sent).ok&&e.data&&n(e.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{children:"Manage your products"}),Object(m.jsx)("div",{children:a.map((function(t){return Object(m.jsx)(Ct,{product:t})}))})]})},It={id:"",artist:{id:"",name:""},title:"",description:"",genre:"",format:"",type:"",imagePath:"",duration:"",price:0,likes:0,uploadDate:"",comments:[],tracks:[]},Ft=(a(83),function(){var t=Object(j.h)(),e=Object(r.useState)(It),a=Object(i.a)(e,2),n=a[0],c=a[1],s=Object(r.useState)(z),o=Object(i.a)(s,2),p=o[0],b=o[1],O=Object(r.useState)(q.OnPause),f=Object(i.a)(O,2),h=f[0],x=f[1],v=Object(r.useState)({pageStatus:P.Loading,statusCode:-1}),g=Object(i.a)(v,2),k=g[0],y=g[1];return Object(r.useEffect)((function(){var e=function(){var e=Object(d.a)(u.a.mark((function e(){var a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.get("/products/"+t.artistName+"/"+t.productTitle);case 2:(a=e.sent).ok&&a.data?(r=a.data,y({pageStatus:P.OK,statusCode:0}),c(r)):y({pageStatus:P.Error,statusCode:a.statusCode});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return""===n.id&&e(),function(){p.pause(),b(_),c(It),x(q.OnPause)}}),[]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"product-details-comment-section",children:[Object(m.jsx)(Q,{artist:n.artist,handlePlay:function(t,e,a){console.log("clicked"),n.tracks[e].playCount=a,c(Object(l.a)({},n))},handleLike:function(t,e){n.likes=e,c(Object(l.a)({},n))},product:n,player:p,playerState:h,setPlayerState:x},n.id),""!==n.id?Object(m.jsx)(W,{product:n}):null]}),Object(m.jsx)(E,Object(l.a)({},k))]})});var Pt=function(){var t=function(){var t=Object(d.a)(u.a.mark((function t(r){var n,c,s;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log("setAuthInfo"),n=null!==r.artistId,c=[],s=[],!r.token){t.next=11;break}return t.next=7,e(r.token);case 7:return c=t.sent,t.next=10,a(r.token);case 10:s=t.sent;case 11:h(Object(l.a)(Object(l.a)({},O),{},{token:r.token,firstName:r.firstName,lastName:r.lastName,cart:{total:r.total,quantity:r.quantity},artistId:r.artistId,isArtist:n,favorites:c,likedProducts:s}));case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e=function(){var t=Object(d.a)(u.a.mark((function t(e){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Getting users favorite artists"),t.next=3,F.getAll("/favoritelists/following/ids",e);case 3:if(!(a=t.sent).ok||!a.data){t.next=6;break}return t.abrupt("return",a.data);case 6:return t.abrupt("return",[]);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),a=function(){var t=Object(d.a)(u.a.mark((function t(e){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Getting users liked products"),t.next=3,F.getAll("/userlikes/likes/ids",e);case 3:if(a=t.sent,console.log(a),!a.ok||!a.data){t.next=7;break}return t.abrupt("return",a.data);case 7:return t.abrupt("return",[]);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),n=function(){var t=Object(d.a)(u.a.mark((function t(e){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Updating user list of favorites"),t.next=3,F.getAll("/favoritelists/following/ids",e.token);case 3:(a=t.sent).ok&&a.data&&(console.log("List of user favorites is updated"),h(Object(l.a)(Object(l.a)({},e),{},{favorites:a.data})));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),c=function(){var t=Object(d.a)(u.a.mark((function t(e){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Updating user list of liked products"),t.next=3,F.getAll("/userlikes/likes/ids",e.token);case 3:(a=t.sent).ok&&a.data&&h(Object(l.a)(Object(l.a)({},e),{},{likedProducts:a.data}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),s=function(){var t=Object(d.a)(u.a.mark((function t(e){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Updating user cart"),t.next=3,F.get("/carts/status",e.token);case 3:(a=t.sent).ok&&a.data&&(console.log(a),h(Object(l.a)(Object(l.a)({},e),{},{cart:a.data})));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),o=Object(r.useState)(Object(l.a)(Object(l.a)({},b),{},{setAuthInfo:t,setUserRole:function(t){if(null!==t){var e=Object(pt.a)(t);return e[Object.keys(e)[4]]}},getUserFavorites:e,getUserLikedProducts:a,updateUserFavoriteArtistList:n,updateUserLikedProductsList:c,updateUserCart:s,promoteToTempArtist:function(t,e){h(Object(l.a)(Object(l.a)({},t),{},{isArtist:!0,artistId:e}))},clearAppState:function(t){h(Object(l.a)(Object(l.a)({},t),{},{token:null,firstName:"",lastName:"",cart:{total:0,quantity:0},favorites:[],likedProducts:[],isArtist:!1}))}})),p=Object(i.a)(o,2),O=p[0],h=p[1];return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(f,{value:O,children:[Object(m.jsxs)("div",{className:"container-lg",children:[Object(m.jsx)(x,{}),Object(m.jsx)("main",{role:"main",children:Object(m.jsx)("div",{className:"view",children:Object(m.jsxs)(j.d,{children:[Object(m.jsx)(j.b,{exact:!0,path:"/",component:g}),Object(m.jsx)(j.b,{exact:!0,path:"/account/login",component:st}),Object(m.jsx)(j.b,{exact:!0,path:"/account/register",component:ot}),Object(m.jsx)(j.b,{exact:!0,path:"/you/profile",render:function(){return O.token?Object(m.jsx)(Ot,{}):Object(m.jsx)(j.a,{to:"/account/login"})}}),Object(m.jsx)(j.b,{exact:!0,path:"/artists",component:G}),Object(m.jsx)(j.b,{exact:!0,path:"/artists/create/",component:M}),Object(m.jsx)(j.b,{exact:!0,path:"/artists/:alias",component:Z}),Object(m.jsx)(j.b,{exact:!0,path:"/artists/:artistName/products/:productTitle",component:Ft}),Object(m.jsx)(j.b,{exact:!0,path:"/artists/edit/:id",component:$}),Object(m.jsx)(j.b,{exact:!0,path:"/artists/delete/:id",component:tt}),Object(m.jsx)(j.b,{exact:!0,path:"/products/upload",render:function(){return O.token?Object(m.jsx)(yt,{}):Object(m.jsx)(j.a,{to:"/account/login"})}}),Object(m.jsx)(j.b,{exact:!0,path:"/you/products",render:function(){return O.token?Object(m.jsx)(St,{}):Object(m.jsx)(j.a,{to:"/account/login"})}}),Object(m.jsx)(j.b,{exact:!0,path:"/you/favorites",render:function(){return O.token?Object(m.jsx)(ft,{}):Object(m.jsx)(j.a,{to:"/account/login"})}}),Object(m.jsx)(j.b,{exact:!0,path:"/you/likes",render:function(){return O.token?Object(m.jsx)(wt,{}):Object(m.jsx)(j.a,{to:"/account/login"})}}),Object(m.jsx)(j.b,{exact:!0,path:"/cart",render:function(){return O.token?Object(m.jsx)(rt,{}):Object(m.jsx)(j.a,{to:"/account/login"})}}),Object(m.jsx)(j.b,{path:"/form",component:jt}),Object(m.jsx)(j.b,{component:ut})]})})})]}),Object(m.jsx)(v,{})]})})};s.a.render(Object(m.jsx)(p.a,{children:Object(m.jsx)(n.a.StrictMode,{children:Object(m.jsx)(Pt,{})})}),document.getElementById("root"))}},[[85,1,2]]]);
//# sourceMappingURL=main.d1479339.chunk.js.map